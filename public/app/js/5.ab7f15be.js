(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"32d4":function(t,e,a){},"4df2":function(t,e,a){},"6cd4":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment",staticStyle:{"line-height":"25px"}},[!1===t.edit_?a("div",[a("span",{staticStyle:{"font-size":"14px","letter-spacing":".6px"}},[a("i",{staticClass:"fas fa-user-edit",staticStyle:{"font-size":"8px"}}),t._v(" "+t._s(t.comment)+" -\n                "),a("span",{staticClass:"text-green-8",staticStyle:{"font-size":"12px"}},[t._v("\n                    "+t._s(t.admin)+"\n                ")]),a("span",{staticClass:"text-orange-8",staticStyle:{"font-size":"10px","font-style":"italic"}},[t._v("\n                    "+t._s(t._f("moment")(t.date,"MMM Do YYYY, hh:mm A "))+"\n                ")])]),t._v("\n           \n        "),t.userID===t.admin_id&&t.editable?[a("q-btn",{attrs:{color:"faded",flat:"",icon:"fas fa-pencil-alt",label:"Edit"},on:{click:function(e){t.edit_=!0}}}),a("q-btn",{attrs:{color:"faded",flat:"",icon:"fas fa-trash-alt",label:"Delete"},on:{click:function(e){return t.deleteComment()}}})]:t._e()],2):a("div",[a("q-input",{attrs:{"max-height":10,"min-rows":2,"float-label":"Edit a comment",type:"textarea"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),a("div",{staticClass:"q-mt-md"},[a("q-btn",{staticClass:"q-mr-md",attrs:{color:"primary",icon:"fas fa-long-arrow-alt-left",size:"sm",title:"Cancel",unelevated:""},on:{click:function(e){t.edit_=!1}}}),a("q-btn",{attrs:{color:"positive",icon:"fas fa-save",size:"sm",title:"Save",unelevated:""},on:{click:function(e){return t.editComment()}}})],1)],1)])},i=[],n={props:["commentInfo","userID","entity","editable"],data:function(){return{comment_id:this.commentInfo.id,comment:this.commentInfo.comment,admin:this.commentInfo.admin.username,endpoint:this.entity.toLowerCase()+"s",admin_id:this.commentInfo.admin.id,entity_id:this.commentInfo.entity_id,date:this.commentInfo.date_created,edit_:!1}},methods:{editComment:function(){this.$axios.post(this.endpoint+"/editcomment",{comment_id:this.comment_id,entity_id:this.entity_id,comment:this.comment}).then(function(t){t.data.status&&(this.$emit("edit-comment",{entity_id:this.entity_id,comment:this.comment}),this.edit_=!1)}.bind(this)).catch(function(t){this.showAlert("negative","Operation error occurred"),console.error(t)}.bind(this))},deleteComment:function(){this.$axios.post(this.endpoint+"/deletecomment",{comment_id:this.comment_id}).then(function(t){t.data.status&&this.$emit("delete-comment")}.bind(this)).catch(function(t){this.showAlert("negative","Operation error occurred"),console.error(t)}.bind(this))}}},o=n,c=(a("d126"),a("2877")),l=Object(c["a"])(o,s,i,!1,null,"4a08e1a2",null);e["a"]=l.exports},"79d3":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment",staticStyle:{"line-height":"25px"}},[a("q-input",{attrs:{type:"textarea","float-label":"Write a comment","max-height":10,"min-rows":2},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),a("q-btn",{staticClass:"q-mr-md",attrs:{color:"primary",icon:"fas fa-long-arrow-alt-left",size:"sm",unelevated:"",title:"Cancel"},on:{click:function(e){return t.$emit("cancel-comment")}}}),a("q-btn",{staticClass:"q-mr-md",attrs:{color:"positive",icon:"fas fa-save",size:"sm",title:"Save"},on:{click:function(e){return t.saveComment()}}})],1)},i=[],n={props:["entity_id_","entity"],data:function(){return{comment:"",entity_id:this.entity_id_,endpoint:this.entity.toLowerCase()+"s"}},methods:{saveComment:function(){this.$axios.post(this.endpoint+"/savecomment",{entity_id:this.entity_id_,comment:this.comment}).then(function(t){t.data.status&&this.$emit("save-comment",t.data.comment)}.bind(this)).catch(function(t){this.showAlert("negative","Operation error occurred"),console.error(t)}.bind(this))}}},o=n,c=(a("ccc4"),a("2877")),l=Object(c["a"])(o,s,i,!1,null,"22bd9976",null);e["a"]=l.exports},b51c:function(t,e,a){},c3ba:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clients-main q-pa-xl"},[a("div",{staticClass:"row",staticStyle:{"margin-bottom":"1em"}},[a("q-expansion-item",{staticClass:"filter",attrs:{"default-opened":"",icon:"fas fa-filter",label:"Filter"}},[a("div",{staticClass:"row q-gutter-md"},[a("q-input",{attrs:{clearable:"",label:"Client ID"},on:{input:function(e){/^\d+$/.test(t.filter.client_id)&&t.filterClients()}},model:{value:t.filter.client_id,callback:function(e){t.$set(t.filter,"client_id",e)},expression:"filter.client_id"}}),a("q-input",{attrs:{clearable:"",label:"Business Name"},on:{input:function(e){t.filter.username.length>=t.minFilterLength&&t.filterClients()}},model:{value:t.filter.name,callback:function(e){t.$set(t.filter,"name",e)},expression:"filter.name"}}),a("q-input",{attrs:{clearable:"",label:"Phone"},on:{input:function(e){t.filter.phone.length>=9&&!isNaN(t.filter.phone)&&t.filterClients()}},model:{value:t.filter.phone,callback:function(e){t.$set(t.filter,"phone",e)},expression:"filter.phone"}}),a("q-input",{attrs:{clearable:"",label:"Email"},on:{input:function(e){t.filter.email.length>=t.minFilterLength&&t.filterClients()}},model:{value:t.filter.email,callback:function(e){t.$set(t.filter,"email",e)},expression:"filter.email"}}),a("q-input",{attrs:{clearable:"",hint:"Exactly from this date",label:"Date From"},model:{value:t.filter.date_range.from,callback:function(e){t.$set(t.filter.date_range,"from",e)},expression:"filter.date_range.from"}},[a("q-popup-proxy",{ref:"dateFrom",attrs:{"transition-hide":"scale","transition-show":"scale"}},[a("q-date",{attrs:{mask:"DD-MM-YYYY"},on:{input:function(){t.$refs.dateFrom.hide(),t.filterClients()}},model:{value:t.filter.date_range.from,callback:function(e){t.$set(t.filter.date_range,"from",e)},expression:"filter.date_range.from"}})],1)],1),a("q-input",{attrs:{clearable:"",hint:"Exactly to this date",label:"Date To"},model:{value:t.filter.date_range.to,callback:function(e){t.$set(t.filter.date_range,"to",e)},expression:"filter.date_range.to"}},[a("q-popup-proxy",{ref:"dateTo",attrs:{"transition-hide":"scale","transition-show":"scale"}},[a("q-date",{attrs:{mask:"DD-MM-YYYY"},on:{input:function(){t.$refs.dateTo.hide(),t.filterClients()}},model:{value:t.filter.date_range.to,callback:function(e){t.$set(t.filter.date_range,"to",e)},expression:"filter.date_range.to"}})],1)],1),a("q-select",{attrs:{options:t.verified_options,"emit-value":"",hint:"Verified or not",label:"Verified","map-options":""},on:{input:t.filterClients},model:{value:t.filter.status,callback:function(e){t.$set(t.filter,"status",e)},expression:"filter.status"}})],1)])],1),t.clientsData.length?a("div",{staticClass:"row"},[a("json-excel",{staticClass:"col-sm-2",attrs:{fetch:t.exportData,fields:t.csv_fields,name:"Clients.csv",type:"csv"}},[a("q-btn",{attrs:{color:"secondary",icon:"fas fa-save",label:"Export",size:"sm",unelevated:""}})],1),a("q-space"),a("div",{staticClass:"col-sm-3"},[a("transition",{attrs:{appear:"","enter-active-class":"animated bounce"}},[t.unverified_count?a("q-badge",{staticClass:"cursor-pointer",attrs:{color:"pink"},on:{click:function(e){t.filter.status="0",t.filterClients()}}},[t._v("\n                    "+t._s(t.unverified_count)+" unchecked account"+t._s(t.unverified_count>1?"s":"")+"\n                ")]):t._e()],1)],1),a("q-space"),a("q-select",{staticClass:"col-sm-2",staticStyle:{"margin-top":"0","font-size":"12px"},attrs:{options:[{label:"50 per page",value:"50"},{label:"100 per page",value:"100"},{label:"200 per page",value:"200"},{label:"500 per page",value:"500"},{label:"1000 per page",value:"1000"}],dense:"","emit-value":"","map-options":""},on:{input:t.filterClients},model:{value:t.filter.per_page,callback:function(e){t.$set(t.filter,"per_page",e)},expression:"filter.per_page"}}),a("span",{staticClass:" col-sm-2",staticStyle:{"font-weight":"lighter",color:"gray","font-size":"12px","padding-top":"14px"}},[t._v(t._s(t.entries.to)+" out of "+t._s(t.entries.total))])],1):t._e(),a("div",{staticClass:"row justify-center",staticStyle:{"margin-top":"30px"}},[t._l(t.clientsData,(function(e,s){return[a("q-card",{class:{"bg-green-1":2===e.status,"bg-blue-1":1===e.status,"bg-red-1":-1===e.status,"col-md-2 col-sm-4 q-ma-sm shadow-1":!0},attrs:{inline:"",square:""}},[e.assets_count?a("label",{staticClass:"cursor-pointer relative-position q-mr-sm",staticStyle:{"background-color":"#660066",color:"whitesmoke","font-size":"12px",padding:"3px 7px",top:"-5px",left:"5px"},attrs:{title:"Number of asset loans"},on:{click:function(a){return t.gotoAsset(e.id)}}},[t._v(t._s(e.assets_count))]):t._e(),e.investments_count?a("label",{staticStyle:{"background-color":"#004731",color:"whitesmoke","font-size":"12px",padding:"3px 7px",position:"relative",top:"-5px",left:"5px"},attrs:{title:"Number of Investments"}},[t._v(t._s(e.investments_count))]):t._e(),a("q-card-section",{staticClass:"q-pb-none"},[a("span",{staticClass:"card-title"},[t._v(t._s(e.business_name))]),a("div",{staticClass:"card-subtitle"},[a("span",{attrs:{title:"Total amount invested"}},[t._v("\n                            ₦"+t._s(t._f("formatAmount")(e.total_amt_invested))+"\n                        ")]),a("br"),a("small",{staticClass:"text-smaller"},[t._v(t._s(e.phone))])])]),a("q-card-section",{staticClass:"row justify-center btn-section"},[a("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],class:{"text-green":2===e.status,"text-light-blue-9":1===e.status,"text-grey":0===e.status,"text-red-9":-1===e.status},attrs:{flat:"",icon:"fas fa-user-check",size:"xs",title:"Account Verification"}},[a("q-menu",{attrs:{"content-style":{padding:"20px 20px"},anchor:"top left",self:"bottom left"}},[a("p",[t._v("What can I do you for, my lord?")]),-1!==e.status?a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"},{name:"ripple",rawName:"v-ripple"}],attrs:{color:"negative",flat:""},on:{click:function(a){return t.verify(e.id,"status",-1,s)}}},[t._v("\n                                DELETE\n                            ")]):t._e(),1!==e.status?a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"},{name:"ripple",rawName:"v-ripple"}],attrs:{color:"blue",flat:""},on:{click:function(a){return t.verify(e.id,"status",1,s)}}},[t._v("\n                                TEMP ACCESS\n                            ")]):t._e(),2!==e.status?a("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"},{name:"ripple",rawName:"v-ripple"}],attrs:{color:"positive",flat:""},on:{click:function(a){return t.verify(e.id,"status",2,s)}}},[t._v("\n                                VERIFY\n                            ")]):t._e()],1)],1),a("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],class:e.files.length>0?"text-positive":"text-negative",attrs:{flat:"",icon:"fas fa-copy",size:"xs"}},[a("q-tooltip",{attrs:{delay:1e3,anchor:"top middle",self:"bottom middle"}},[t._v("\n                            Files\n                        ")]),e.files.length>0?a("q-menu",{attrs:{anchor:"top left",self:"bottom left"}},[a("q-list",{staticStyle:{"font-size":"12px"},attrs:{separator:""}},[a("q-item",[a("q-item-section",[a("q-item-label",{attrs:{overline:""}},[t._v("DOCUMENTS")])],1)],1),t._l(e.files,(function(e){return a("q-item",{key:e.id},[a("q-item-section",[a("q-item-label",[a("a",{attrs:{href:"//api.fint.ng/static/files/clients/"+e.image,target:"_blank"}},[t._v("\n                                                "+t._s(e.filetype.description)+"\n                                            ")])])],1)],1)}))],2)],1):a("q-menu",{attrs:{anchor:"top left",clas:"q-pa-sm",self:"bottom left"}},[a("q-item",[a("q-item-section",[a("q-item-label",[t._v("No files")])],1)],1)],1)],1)],1),a("q-card-actions",{staticClass:"justify-center text-grey"},[a("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"q-px-sm",attrs:{flat:"",icon:"fas fa-envelope-open"},on:{click:function(a){return t.showContactModal({f_name:e.username,email:e.email,phone:e.phone})}}}),a("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"q-px-sm",attrs:{flat:"",icon:"fas fa-eye"},on:{click:function(a){return t.showInfoModal(e)}}})],1)],1)]}))],2),a("div",[t.clientInfo?a("q-dialog",{model:{value:t.infoModal,callback:function(e){t.infoModal=e},expression:"infoModal"}},[a("q-card",{staticStyle:{width:"900px","max-width":"80vw"}},[a("q-card-section",[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"float-right",attrs:{flat:"",icon:"close",size:"sm"}})],1),a("q-card-section",[a("div",{staticStyle:{margin:"0 3em 2em"}},[a("div",{staticClass:"text-center",staticStyle:{"margin-bottom":"2em"}},[a("div",{staticClass:"avenir-next-thin",staticStyle:{"font-size":"2rem"}},[t._v("\n                                "+t._s(t.clientInfo.business_name)+"\n                            ")]),a("small",{staticStyle:{color:"lightgrey"}},[t._v("\n                                "+t._s(t._f("moment")(t.clientInfo.created_at,"MMM Do YYYY, h:mm:ss A"))+"\n                            ")])]),a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4 col-xs-12"},[a("strong",[t._v("Username")]),a("p",[t._v(t._s(t.clientInfo.username||"—"))])]),a("div",{staticClass:"col-sm-4 col-xs-12"},[a("strong",[t._v("Email")]),a("p",[t._v(t._s(t.clientInfo.email||"—"))])]),a("div",{staticClass:"col-sm-4 col-xs-12"},[a("strong",[t._v("Phone")]),a("p",[t._v(t._s(t.clientInfo.phone||"—"))])]),a("div",{staticClass:"col-sm-4 col-xs-12"},[a("strong",[t._v("Address")]),a("p",[t._v(t._s(t.clientInfo.address||"—"))])]),a("div",{staticClass:"col-sm-4 col-xs-12"},[a("strong",[t._v("Asset Limit")]),t.setAssetLimit?a("p",{staticClass:"row q-gutter-x-sm no-wrap"},[a("q-input",{attrs:{dense:"",type:"number"},model:{value:t.newAssetLimit,callback:function(e){t.newAssetLimit=t._n(e)},expression:"newAssetLimit"}}),a("q-btn",{staticClass:"self-end",staticStyle:{height:"25px",width:"35px"},attrs:{color:"primary",icon:"done",size:"xs",unelevated:""},on:{click:t.updateAssetLimit}}),a("q-btn",{staticClass:"self-end",staticStyle:{height:"25px",width:"35px"},attrs:{color:"negative",icon:"close",size:"xs",unelevated:""},on:{click:function(e){t.setAssetLimit=!1}}})],1):a("p",{on:{"":function(t){},dblclick:function(e){t.setAssetLimit=!0}}},[t._v("\n                                        ₦"+t._s(t._f("formatAmount")(t.clientInfo.asset_limit))+"\n                                    ")])]),a("div",{staticClass:"col-sm-4 col-xs-12"},[a("strong",[t._v("Total Amount Invested")]),a("p",[t._v("₦"+t._s(t._f("formatAmount")(t.clientInfo.total_amt_invested)))])]),a("div",{staticClass:"col-sm-4 col-xs-12"},[a("strong",[t._v("Bank")]),a("p",[t._v(t._s(t.clientInfo.bank_info.bank_name||"—"))])]),a("div",{staticClass:"col-sm-4 col-xs-12"},[a("strong",[t._v("Account Number")]),a("p",[t._v(t._s(t.clientInfo.bank_acct||"—"))])])])]),a("div",{staticClass:"row q-gutter-sm justify-center q-py-lg"},[a("div",{staticClass:"col-sm-4 text-center"},[a("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{color:"positive",flat:"",label:"Action"}})],1)])])])],1)],1):t._e(),a("q-dialog",{model:{value:t.contactModal,callback:function(e){t.contactModal=e},expression:"contactModal"}},[a("q-card",{staticStyle:{width:"500px","max-width":"80vw"}},[a("q-card-section",[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"float-right",attrs:{flat:"",icon:"close",size:"sm"}})],1),a("q-card-section",[a("div",{staticStyle:{margin:"0 50px"}},[a("q-tabs",{attrs:{"active-color":"sidebar-blue",color:"grey-6"},model:{value:t.contactTab,callback:function(e){t.contactTab=e},expression:"contactTab"}},[a("q-tab",{attrs:{icon:"fas fa-envelope",name:"email"}}),a("q-tab",{attrs:{icon:"fas fa-phone",name:"sms"}})],1),a("q-tab-panels",{attrs:{animated:""},model:{value:t.contactTab,callback:function(e){t.contactTab=e},expression:"contactTab"}},[a("q-tab-panel",{attrs:{name:"email"}},[a("div",{staticClass:"row justify-center"},[a("q-input",{staticClass:"col-sm-10 q-my-md",attrs:{label:"Email"},model:{value:t.contactData.email,callback:function(e){t.$set(t.contactData,"email",e)},expression:"contactData.email"}}),a("q-input",{staticClass:"col-sm-10",attrs:{label:"Subject"},model:{value:t.contactData.subject,callback:function(e){t.$set(t.contactData,"subject",e)},expression:"contactData.subject"}}),a("q-input",{staticClass:"col-sm-10 q-my-md",attrs:{"max-height":10,"min-rows":5,label:"Message",type:"textarea"},model:{value:t.contactData.message,callback:function(e){t.$set(t.contactData,"message",e)},expression:"contactData.message"}}),a("div",{staticClass:"col-sm-12 q-mt-sm"},[a("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"float-right",attrs:{color:"positive",label:"Send",outline:""},on:{click:function(e){return t.sendEmail(t.contactData.id,t.contactData.subject,t.contactData.message)}}})],1)],1)]),a("q-tab-panel",{attrs:{name:"sms"}},[a("div",{staticClass:"row justify-center"},[a("q-input",{staticClass:"col-sm-10 q-mt-md",attrs:{maxlength:11,counter:"",label:"Phone Number"},model:{value:t.contactData.phone,callback:function(e){t.$set(t.contactData,"phone",e)},expression:"contactData.phone"}}),a("q-input",{staticClass:"col-sm-10",attrs:{"max-height":10,maxlength:250,"min-rows":5,counter:"",label:"Message",type:"textarea"},model:{value:t.contactData.message,callback:function(e){t.$set(t.contactData,"message",e)},expression:"contactData.message"}}),a("div",{staticClass:"col-sm-12 q-mt-sm"},[a("q-btn",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"float-right q-mt-md",attrs:{color:"positive",label:"SEND",outline:""},on:{click:function(e){return t.sendSMS(t.contactData.id,t.contactData.message)}}})],1)],1)])],1)],1)])],1)],1)],1),t.clientsData.length<t.entries.total?a("div",{staticClass:"row justify-center"},[a("q-infinite-scroll",{attrs:{handler:t.refresher,offset:300}},[a("q-spinner-puff",{staticStyle:{"margin-top":"30px"},attrs:{slot:"message",size:40,color:"primary"},slot:"message"})],1)],1):t._e()])},i=[],n=(a("8e6e"),a("8a81"),a("456d"),a("6b54"),a("a481"),a("7f7f"),a("ac6a"),a("cadf"),a("06db"),a("4db1")),o=a.n(n),c=a("967e"),l=a.n(c),r=a("c47a"),m=a.n(r),f=(a("96cf"),a("fa84")),d=a.n(f),u=a("b178"),p=a("1bdd"),h=a("6cd4"),v=a("79d3");function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function _(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(Object(a),!0).forEach((function(e){m()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var g={name:"Clients",meta:function(){return{title:"Clients"}},components:{JsonExcel:p["a"],Comment:h["a"],NewComment:v["a"]},data:function(){return{activeNames:["1"],filter:{client_id:this.$route.query.id,name:"",phone:"",email:"",status:"",date_range:{from:"",to:""},page:1,per_page:"50"},clientsData:[],clientInfo:"",unverified_count:"",text:"",contactData:{f_name:"",phone:"",email:"",subject:"",message:""},csv_fields:{"Lender ID":"id","First Name":"f_name","Last Name":"l_name",Phone:"phone",Email:"email"},entries:{to:"",total:""},minFilterLength:3,commentVars:{addNewFlag:!1,page:1,nextPageFlag:!1,prevPageFlag:!0,loading:!1,user_id:null},infoModal:!1,contactModal:!1,fundModal:!1,setAssetLimit:!1,newAssetLimit:"",contactTab:"email",verified_options:[{label:"",value:""},{label:"Unchecked",value:"0"},{label:"Invalid",value:"-1"},{label:"Temporary access",value:"1"},{label:"Verified",value:"2"}]}},computed:{},created:function(){this.filterClients()},methods:{exportData:function(){var t=this;return d()(l.a.mark((function e(){var a;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("clients/filter",{params:_({export:!0},t.filter)});case 2:return a=e.sent,e.abrupt("return",a.data.data.clients);case 4:case"end":return e.stop()}}),e)})))()},fetchClients:function(){this.$axios.get("clients/fetch").then(function(t){this.clientsData=t.data.data}.bind(this)).catch(function(t){console.error(t)}.bind(this))},fetchInstitutionalBorrowers:function(){var t=this;return d()(l.a.mark((function e(){var a;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("clients/fetchInstitutionalBorrowers");case 2:a=e.sent,t.borrowers=a.data.data.borrowers,t.borrowers_count=a.data.data.borrowers_count;case 5:case"end":return e.stop()}}),e)})))()},fetchComments:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;"prev"===t?this.commentVars.page>1&&this.commentVars.page--:"next"===t&&this.commentVars.page++,this.$axios.get("clients/fetchcomments",{params:{investor_id:this.clientInfo.id,page:this.commentVars.page}}).then(function(t){this.commentVars.loading=!1,null===t.data.comments.next_page_url?this.commentVars.nextPageFlag=!0:this.commentVars.nextPageFlag=!1,null===t.data.comments.prev_page_url?this.commentVars.prevPageFlag=!0:this.commentVars.prevPageFlag=!1,this.commentVars.user_id=t.data.user,this.$set(this.clientInfo,"comments",t.data.comments.data)}.bind(this)).catch(function(t){console.error(t)}.bind(this))},refresher:function(t,e){this.filter.page++,this.$axios.get("clients/filter",{params:this.filter}).then(function(t){var a;(a=this.clientsData).push.apply(a,o()(t.data.data)),this.entries.to=t.data.to,this.entries.total=t.data.total,e()}.bind(this)).catch(function(t){e(),console.error(t)}.bind(this))},showInfoModal:function(t){this.clientInfo=t,this.infoModal=!0},showContactModal:function(t){this.contactData.phone=t.phone,this.contactData.email=t.email,this.contactData.f_name=t.f_name,this.contactModal=!0},closeModal:function(){this.clientInfo={},this.infoModal=!1},filterClients:Object(u["e"])((function(){this.filter.page=1,this.$axios.get("clients/filter",{params:this.filter}).then(function(t){this.clientsData=t.data.data.clients.data,this.unverified_count=t.data.data.unverified_count,this.entries.to=t.data.to,this.entries.total=t.data.total}.bind(this)).catch(function(t){console.error(t)}.bind(this))}),1e3),gotoAsset:function(t){this.$router.push({path:"assets",query:{client_id:t}})},gotoBankInfo:function(t){this.$router.push({path:"bankinfo",query:{id:t,type:"1"}})},sendEmail:function(t,e,a,s,i){this.$axios.post("clients/sendmail",{id:t,subject:a,message:i}).then(function(t){t.data.status?this.showAlert("positive","Mail sent successfully"):this.showAlert("negative","Something went wrong")}.bind(this)).catch(function(t){this.showAlert("negative","Operation error occurred"),console.error(t)}.bind(this))},sendSMS:function(t,e,a,s){this.$axios.post("clients/sendsms",{id:t,message:s}).then(function(t){t.data.status&&this.showAlert("positive","SMS sent successfully")}.bind(this)).catch(function(t){this.showAlert("negative","Operation error occurred"),console.error(t)}.bind(this))},verify:function(t,e,a,s){var i=this;return d()(l.a.mark((function n(){var o,c;return l.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i.$axios.post("clients/verify",{id:t,field:e,state:a});case 2:o=n.sent,o.data&&(c=i.firstCaps(e),i.showAlert("positive","".concat(c," ").concat(a?"verification":"invalidation"," successful")),i.clientsData[s].status=a);case 4:case"end":return n.stop()}}),n)})))()},updateAssetLimit:function(){var t=this;return d()(l.a.mark((function e(){var a;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.newAssetLimit<1)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$axios.post("clients/setAssetLimit",{id:t.clientInfo.id,amount:t.newAssetLimit});case 4:a=e.sent,a.data.status?(t.clientInfo.asset_limit=t.newAssetLimit,t.newAssetLimit="",t.setAssetLimit=!1,t.showAlert("positive","New limit set successfully")):t.showAlert("negative",a.data.msg);case 6:case"end":return e.stop()}}),e)})))()},refreshEntries:function(){this.resetFilterData(),this.fetchClients()},resetFilterData:function(){this.filter.client_id="",this.filter.name="",this.filter.username="",this.filter.phone="",this.filter.email="",this.filter.verified="",this.filter.date_range={from:"",to:""}},showAlert:function(t,e){this.$q.notify({type:t,message:e,position:"top-right",timeout:4e3})},firstCaps:function(t){if(null!=t)return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}},filters:{firstCaps:function(t){if(null!=t)return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()},formatAmount:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}},x=g,w=(a("df6c"),a("2877")),y=Object(w["a"])(x,s,i,!1,null,"ba1c6676",null);e["default"]=y.exports},ccc4:function(t,e,a){"use strict";var s=a("32d4"),i=a.n(s);i.a},d126:function(t,e,a){"use strict";var s=a("b51c"),i=a.n(s);i.a},df6c:function(t,e,a){"use strict";var s=a("4df2"),i=a.n(s);i.a}}]);